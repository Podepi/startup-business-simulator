<!DOCTYPE html>
<html>
<title>Super Extreme Ordinary Webpage</title>
<head>
<link href='http://fonts.googleapis.com/css?family=Kavoon' rel='stylesheet' type='text/css'>

<style>
p {font-family: Verdana, sans-serif}
h2 {font-family:'Kavoon', Calbiri, sans-serif;color:#FEFEFE;text-align:center;text-shadow:0px 0px 6px #000}
h3 {font-family: Verdana, Calbiri, sans-serif;color:black;text-align:center}
li {float:left}
ul {list-style-type: none; margin: 0; padding: 0;}

.basicdiv {border:1px solid #000000;padding: 20px 20px;height: 400px}
.center {text-align:"center"; justify-content:"center"}
.navtext {color: #FFF; font-family:'Kavoon', Calbiri, sans-serif; font-size: 15px; text-decoration: none}
.basicbtn {width:64px; height:64px; border:2px solid white;}
.basicbtn:hover {border:2px solid grey;}
.navbarelement {display: block; width: 60px; text-align:center; background-color: #985000}
</style>

<script src="jquery-2.1.1.min.js"></script>

<script>
var experience = 0;
var level = 1;
var locations = ["dungeon", "traveller", "alchemist", "treasure"];
var enemy_list = ["orc", "bandit", "golem", "spider", "bat", "wraith", "ghost", "troll", "ogre"];
var chat_list = ["&quot;Hello.&quot;", "&quot;Do you want anything?&quot;", "&quot;Quit wasting my time.&quot;", "&quot;I don't have all day.&quot;"];
var timer = 0;
var gold = 0;
var playerHealth = 20;
var maxHealth = 20;
var weaponLevel = 1;
var armourLevel = 1;
var descdefault = "Mouse over something to view its description.";
var logText = " ";

function startJS() {
    updateText();
}

function explore_start() {
    LogEvent("Exploring...");
    window.setTimeout("explore_end()", 1000);
    $("#txt_location").html = "Exploring...";
    //btn1
    $("#btn_location01").hide();
    //btn2
    $("#btn_location02").hide();
    //btn3
    $("#btn_location03").hide();
}

function explore_end() {
    var rand = locations[Math.floor(Math.random() * locations.length)];
    console.log(rand);
    switch(rand) {
    case "dungeon":
        $("#txt_location").text("You have stumbled upon a level " + level + " dungeon!");
        //btn1
        $("#btn_location01").show();
        $("#btn_location01").html("Enter Dungeon");
        $("#btn_location01").click(dungeon(level));
        $("#btn_location01").mouseenter(description('Enter the dungeon for fame and glory!'));
        //btn2
        $("#btn_location02").hide();
        //btn3
        $("#btn_location03").show();
        $("#btn_location03").html("Leave<br>asdf");
        $("#btn_location03").click(conversation());
        $("#btn_location03").mouseenter(description('Chat with the merchant.'));
        break;
    case "traveller":
        var w = weaponLevel + Math.floor(Math.random * 20) - 10;
        var a = armourLevel + Math.floor(Math.random * 20) - 10;
        $("#txt_location").html = "You have met a travelling merchant!";
        //btn1
        $("#btn_location01").show();
        $("#btn_location01").html("Upgrade weapon");
        $("#btn_location01").click(upgrade(1, 0, w));
        $("#btn_location01").mouseenter(description('Upgrade your weapon to deal more damage.'));
        //btn2
        $("#btn_location02").show();
        $("#btn_location02").html("Upgrade armour");
        $("#btn_location02").click(upgrade(0, 1, a));
        $("#btn_location02").mouseenter(description('Upgrade your armour to block more damage.'));
        //btn3
        $("#btn_location03").show();
        $("#btn_location03").html("Chat<br>");
        $("#btn_location03").click(conversation());
        $("#btn_location03").mouseenter(description('Chat with the merchant.'));
        break;
    case "alchemist":
        var c = 10;
        $("#txt_location").html("You have found an alchemist's hut!");
        //btn1
        $("#btn_location01").show();
        $("#btn_location01").html("Buy health potion");
        $("#btn_location01").click(potion(1, c), LogEvent('Bought potion'));
        $("#btn_location01").mouseenter(description('Buy a health potion to restore health during battle.'));
        //btn2
        $("#btn_location02").show();
        $("#btn_location02").html("Buy Elixir of Life");
        $("#btn_location02").click(potion(2, c*10), LogEvent('Bought Elixir of Life'));
        $("#btn_location02").mouseenter(description('Upgrade your maximum health.'));
        //btn3
        $("#btn_location03").show();
        $("#btn_location03").html("Chat<br>asdf");
        $("#btn_location03").click(conversation());
        $("#btn_location03").mouseenter(description('Chat with the alchemist.'));
        break;
    case "treasure":
        gold += 1;
        $("#txt_location").html("You found a penny!");
        //btn1
        $("#btn_location01").show();
        $("#btn_location01").html("Keep the coin");
        $("#btn_location01").click(reset_adventure(), LogEvent('Found penny!'));
        $("#btn_location01").mouseenter(description('Keep the penny.'));
        //btn2
        $("#btn_location02").show();
        $("#btn_location02").html("Donate to charity");
        $("#btn_location02").click(gold -= 1, LogEvent("Donated to charity!"));
        $("#btn_location02").mouseenter(description('Donate the penny to charity.'));
        //btn3
        $("#btn_location03").show();
        $("#btn_location03").html("Chat");
        $("#btn_location03").click(conversation(), LogEvent("Talked to a coin?"));
        $("#btn_location03").mouseenter(description('Chat with the coin (?)'));
        break;
    }
}

function dungeon(l) {
    var enemy = enemy_list[Math.floor(Math.random() * enemy_list.length)];
    $("#txt_location").html = "Inside the dungeon you have found a " + enemy + "!";
    //btn01
    $("#btn_location01").show();
    $("#btn_location01").html = "Attack enemy";
    $("#btn_location01").onclick = "attack()";
    //btn02
    $("#btn_location02").show();
    $("#btn_location02").html = "Use health potion";
    $("#btn_location02").onclick = "upgrade(0, 1, a)";
}

function upgrade(w, a, c) {
    if(gold >= c) {
        weaponLevel += w;
        armourLevel += a;
        gold -= c;
        updateText();
        LogEent('Upgraded equipment')
    } else {
        LogEvent("You don't have enough gold");
    }
}

function conversation() {
    var chat = chat_list[Math.floor(Math.random() * chat_list.length)];
    $("#txt_location").html(chat);
    LogEvent(chat);
}

function LogEvent(t) {
    logText = t + "<br>" + logText;
    updateText();
}

function description(desc) {
    $("#DescriptionText").html("<b>Description: </b>" + desc);
}

function updateText() {
    $("#txt_log").html(logText);
    $("#statscreen").html("Weapon level: " + weaponLevel + 
    "<br>Armour level: " + armourLevel + 
    "<br>Health: " + playerHealth + 
    "<br>Gold: " + gold);
}

</script>

</head>
<body onload="startJS()">
    <div style="background-image:url('woodbackground.jpg');border:5px solid #DDD;border-radius:20px;padding: 20px 20px">

        <h1 style="font-family:Kavoon, Verdana, sans-serif;color:#DDD;text-shadow:1px 1px 4px #000;text-align: center">RPG Adventurer <sup style="color:#DDD;font-family:Calbiri, sans-serif;font-size:10px;text-align: center">Alpha</sup> </h1>
        
        <div class="center">
        <ul>
            <li class="navbarelement"><a href="javascript:navbar('town')" class="navtext">Town</a></li>
            <li class="navbarelement"><a href="javascript:navbar('map')" class="navtext">Map</a></li>
            <li class="navbarelement"><a href="javascript:navbar('inv')" class="navtext">Inventory</a></li>
        </ul>
        </div>
    </div>
    
    <div class="basicdiv" style="float:right;">

        <h2>-Stats-</h2>
        <p id="statscreen"></p>
        
    </div>
    
    <div class="basicdiv" style="text-align:center;">
        <p id="DescriptionText" style="text-align:center;"><b>Description: </b>Mouse over something to view its description.</p>
        
        <button onclick="explore_start()" onmouseover="description('Explore the surrounding lands')">Explore</button>
        
        <p id="txt_location">You are currently not exploring</p>
        
        <img src="dagger.svg" id="btn_location01" onclick="console.log('click')" onmouseover="description(descdefault)" type="button" class="basicbtn"></img>
        <img src="knapsack.svg" id="btn_location02" onclick="console.log('click')" onmouseover="description(descdefault)" type="button" class="basicbtn"></img>
        <img src="dagger.svg" id="btn_location03" onclick="console.log('click')" onmouseover="description(descdefault)" type="button" class="basicbtn"></img>
        
    </div>
    
    <div style="text-align:left; overflow:scroll; border: 1px solid black; height:200px;">
        <h2 style="text-align:left">-Log-</h2>
        <p id="txt_log"></p>
        
    </div>
    
</body>
<footer><p>Most of the icons used are modified versions of originals from <a href="http://game-icons.net/">game-icons.net<a/>, under the CC-BY license. More information on the authors can be found <a href="http://game-icons.net/about.html#authors">here.</a>
</p>
</html>